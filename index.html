<html>
  <head>
  </head>
  <body>
    <div class="test-div">Hello</div>
    <script src="dist/QuirksManager.umd.js"></script>
    <script>
      class ColorChangeQuirk extends QuirksManager.Quirk {
        onStart() {
          this._element.style.color = 'red';
        };
      };

      class WindowResizeQuirk extends QuirksManager.Quirk {
        _resizeListener(event) {
          this._element.innerText = event.target.innerWidth;
        };
        onStart() {
          var listener = this._resizeListener.bind(this);
          window.addEventListener('resize', listener);
        };
      };

      class ElementChangeQuirk extends QuirksManager.Quirk {
        onStart() {
          var observer = new MutationObserver(function(mutations) {
            console.log(mutations);
          });
          var config = {attributes: true, childList: true, characterData: true};
          observer.observe(this._element, config);
        };
      };

      class FrameUpdateQuirk extends QuirksManager.Quirk {
        constructor() {
          super({animated: true});
        }
        onStart() {
          this._originalText = this._element.innerText;
          this._frame = 0;
        };
        onUpdate() {
          this._frame++;
          this._element.innerText = this._originalText + this._frame;
        };
      };

      var bm = new QuirksManager();
      bm.add('.test-div', new ColorChangeQuirk());
      bm.add('.test-div', new WindowResizeQuirk());

      var element = document.createElement('div');
      element.innerText = "Look in console for MutationRecord";
      var body = document.getElementsByTagName('body')[0];
      bm.add(element, new ElementChangeQuirk());
      body.appendChild(element);

      element = document.createElement('div');
      element.innerText = "Frames: ";
      bm.add(element, new FrameUpdateQuirk());
      body.appendChild(element);

      bm.start();
    </script>
  </body>
</html>
